---
classes:
  - profile::desktop

# applications to install on a desktop machine
profile::apps::to_install:
  'anki':
    ensure: latest
  'awesome':
    ensure: latest
  'chromium-browser':
    ensure: latest
  'cifs-utils':
    ensure: latest
  'clusterssh':
    ensure: latest
  'coffeescript':
    ensure: latest
  'exfat-fuse':
    ensure: latest
  'feh':
    ensure: latest
  'gtypist':
    ensure: latest
  'gvfs-fuse':
    ensure: latest
  'gvfs-backends':
    ensure: latest
  'ipython':
    ensure: latest
  'ipython3':
    ensure: latest
  'keychain':
    ensure: latest
  'libav-tools':
    ensure: latest
  'libavcodec-extra':
    ensure: latest
  'libreoffice':
    ensure: present
  'mutt':
    ensure: latest
  'ncurses-term':
    ensure: latest
  'nmap':
    ensure: latest
  'netcat':
    ensure: latest
  'numlockx':
    ensure: latest
  'password-gorilla':
    ensure: latest
  'postfix':
    ensure: latest
  'p7zip':
    ensure: latest
  'python-dev':
    ensure: latest
  'python-ipdb':
    ensure: latest
  'python3-ipdb':
    ensure: latest
  'python-virtualenv':
    ensure: latest
  'rar':
    ensure: latest
  'scrot':
    ensure: latest
  'sqlite3':
    ensure: latest
  'software-properties-common':
    ensure: latest
  'tmux':
    ensure: latest
  'vlc':
    ensure: latest
  'w3m':
    ensure: latest
  'wireshark':
    ensure: latest
  'xclip':
    ensure: latest
  'xpdf':
    ensure: latest
  'xscreensaver':
    ensure: latest
  'xscreensaver-data-extra':
    ensure: latest
  'xscreensaver-screensaver-dizzy':
    ensure: latest
  'xubuntu-restricted-addons':
    ensure: latest
  'xubuntu-restricted-extras':
    ensure: latest

# global configuration
profile::etc::config:
  '/etc/sysctl.d/10-dropbox.conf':
    ensure: file
    source: 'puppet:///modules/profile/etc/sysctl.d/10-dropbox.conf'
  '/etc/NetworkManager/NetworkManager.conf':
    ensure: file
    source: 'puppet:///modules/profile/etc/NetworkManager/NetworkManager.conf'
  '/usr/share/xsessions/custom.desktop':
    ensure: file
    source: 'puppet:///modules/profile/usr/usr_share_xsessions_custom.desktop'

# Users
users:
  'mcampbell':
    comment: 'Marcus Campbell'
    config:
      '/home/mcampbell/Desktop':
        ensure: absent
        force: true
      '/home/mcampbell/Documents':
        ensure: absent
        force: true
      '/home/mcampbell/Music':
        ensure: absent
        force: true
      '/home/mcampbell/Pictures':
        ensure: absent
        force: true
      '/home/mcampbell/Public':
        ensure: absent
        force: true
      '/home/mcampbell/Templates':
        ensure: absent
        force: true
      '/home/mcampbell/Videos':
        ensure: absent
        force: true
      '/home/mcampbell/.xsession':
        ensure: link
        target: '/home/mcampbell/.xinitrc'

git_config:
  'user.name':
    value: 'Marcus Campbell'
    user: 'mcampbell'
  'credential.helper':
    value: 'cache timeout=259200'
    user: 'mcampbell'
  'user.email':
    value: 'marcus.anthony.campbell@gmail.com'
    user: 'mcampbell'
  'push.default':
    value: 'simple'
    user: 'mcampbell'
  'merge.tool':
    value: 'vimdiff'
    user: 'mcampbell'

# pdnsd settings
pdnsd::start_daemon: yes
pdnsd::preferred_servers:
  'opendns':
    ip: 208.67.222.222, 208.67.220.220
    proxy_only: off
    timeout: 4
    uptest: query
    interface: eth0
    interval: 10m
    purge_cache: off
    edns_query: yes
    reject:
      - 208.69.32.0/24
      - 208.69.34.0/24
      - 208.67.219.0/24
    reject_policy: fail
